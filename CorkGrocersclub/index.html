<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cork Grocers Club Portal</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & Babel for in-browser transpilation -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (Converted from Lucide for single-file support) ---
        const Icon = ({ name, className }) => {
            const svgs = {
                ShieldCheck: <><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></>,
                KeyRound: <><path d="M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"/><circle cx="16.5" cy="7.5" r=".5"/></>,
                User: <><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>,
                LogOut: <><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></>,
                AlertCircle: <><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></>,
                CheckCircle2: <><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></>,
                CreditCard: <><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></>,
                Menu: <><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>,
                X: <><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></>,
                Bell: <><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></>,
                ChevronRight: <><path d="m9 18 6-6-6-6"/></>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {svgs[name]}
                </svg>
            );
        };

        const ShieldCheck = ({className}) => <Icon name="ShieldCheck" className={className} />;
        const KeyRound = ({className}) => <Icon name="KeyRound" className={className} />;
        const User = ({className}) => <Icon name="User" className={className} />;
        const LogOut = ({className}) => <Icon name="LogOut" className={className} />;
        const AlertCircle = ({className}) => <Icon name="AlertCircle" className={className} />;
        const CheckCircle2 = ({className}) => <Icon name="CheckCircle2" className={className} />;
        const CreditCard = ({className}) => <Icon name="CreditCard" className={className} />;
        const Menu = ({className}) => <Icon name="Menu" className={className} />;
        const X = ({className}) => <Icon name="X" className={className} />;
        const Bell = ({className}) => <Icon name="Bell" className={className} />;
        const ChevronRight = ({className}) => <Icon name="ChevronRight" className={className} />;


        // --- MOCK DATABASE ---
        const MOCK_DOOR_CODE = "8294";

        const MOCK_MEMBERS = [
            { 
                id: 1, 
                memberNumber: '1890', 
                surname: 'Duggan', 
                firstName: 'Jim', 
                status: 'active', 
                expiryDate: '2026-12-31', 
                email: 'jim.duggan@example.ie',
                address: 'Montenotte, Cork'
            },
            { 
                id: 2, 
                memberNumber: '1920', 
                surname: 'Maher', 
                firstName: 'Dave', 
                status: 'expired', 
                expiryDate: '2025-11-30', 
                email: 'dave.maher@example.ie',
                address: 'Blackrock, Cork'
            }
        ];

        function App() {
            const [currentView, setCurrentView] = useState('home');
            const [user, setUser] = useState(null);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const handleLogin = (memberNumber, surname) => {
                const foundUser = MOCK_MEMBERS.find(
                    m => m.memberNumber === memberNumber && m.surname.toLowerCase() === surname.toLowerCase()
                );
                
                if (foundUser) {
                    setUser(foundUser);
                    setCurrentView('dashboard');
                    return true;
                }
                return false;
            };

            const handleLogout = () => {
                setUser(null);
                setCurrentView('home');
            };

            const handleRenew = () => {
                setUser({ ...user, status: 'active', expiryDate: '2027-02-20' });
                setCurrentView('dashboard');
            };

            const navigateTo = (view) => {
                setCurrentView(view);
                setMobileMenuOpen(false);
            };

            const Navbar = () => (
                <nav className="bg-[#0F3D2E] text-[#F4F1EC] sticky top-0 z-50 border-b-4 border-[#C6A75E]">
                <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-20">
                    <div className="flex items-center cursor-pointer" onClick={() => navigateTo(user ? 'dashboard' : 'home')}>
                        <ShieldCheck className="h-8 w-8 text-[#C6A75E] mr-3" />
                        <div>
                        <h1 className="font-['Playfair_Display'] text-xl font-bold tracking-wider uppercase">Cork Grocers Club</h1>
                        <p className="font-['Inter'] text-xs text-[#C6A75E] tracking-widest">27 Cook Street • Cork</p>
                        </div>
                    </div>

                    <div className="hidden md:flex items-center space-x-8">
                        {!user ? (
                        <>
                            <button onClick={() => navigateTo('home')} className="font-['Inter'] text-sm hover:text-[#C6A75E] transition-colors">Home</button>
                            <button onClick={() => navigateTo('apply')} className="font-['Inter'] text-sm hover:text-[#C6A75E] transition-colors">Apply</button>
                            <button 
                            onClick={() => navigateTo('login')} 
                            className="font-['Inter'] text-sm bg-[#C6A75E] text-[#0F3D2E] px-5 py-2 rounded-sm font-semibold hover:bg-white transition-colors"
                            >
                            Members Login
                            </button>
                        </>
                        ) : (
                        <>
                            <button onClick={() => navigateTo('dashboard')} className="font-['Inter'] text-sm hover:text-[#C6A75E] transition-colors flex items-center"><KeyRound className="w-4 h-4 mr-1"/> Dashboard</button>
                            <button onClick={() => navigateTo('updates')} className="font-['Inter'] text-sm hover:text-[#C6A75E] transition-colors flex items-center"><Bell className="w-4 h-4 mr-1"/> Notices</button>
                            <button onClick={() => navigateTo('profile')} className="font-['Inter'] text-sm hover:text-[#C6A75E] transition-colors flex items-center"><User className="w-4 h-4 mr-1"/> Profile</button>
                            <button 
                            onClick={handleLogout} 
                            className="font-['Inter'] text-sm border border-[#C6A75E] text-[#C6A75E] px-4 py-1.5 rounded-sm hover:bg-[#C6A75E] hover:text-[#0F3D2E] transition-colors flex items-center"
                            >
                            <LogOut className="w-4 h-4 mr-1"/> Exit
                            </button>
                        </>
                        )}
                    </div>

                    <div className="md:hidden flex items-center">
                        <button onClick={() => setMobileMenuOpen(!mobileMenuOpen)} className="text-[#F4F1EC] hover:text-[#C6A75E]">
                        {mobileMenuOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
                        </button>
                    </div>
                    </div>
                </div>

                {mobileMenuOpen && (
                    <div className="md:hidden bg-[#0F3D2E] border-t border-[#1a5743]">
                    <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                        {!user ? (
                        <>
                            <button onClick={() => navigateTo('home')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#F4F1EC] hover:text-[#C6A75E]">Home</button>
                            <button onClick={() => navigateTo('apply')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#F4F1EC] hover:text-[#C6A75E]">Apply</button>
                            <button onClick={() => navigateTo('login')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#C6A75E] font-bold">Members Login</button>
                        </>
                        ) : (
                        <>
                            <button onClick={() => navigateTo('dashboard')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#F4F1EC] hover:text-[#C6A75E]">Dashboard</button>
                            <button onClick={() => navigateTo('updates')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#F4F1EC] hover:text-[#C6A75E]">Notices</button>
                            <button onClick={() => navigateTo('profile')} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-[#F4F1EC] hover:text-[#C6A75E]">Profile</button>
                            <button onClick={handleLogout} className="block w-full text-left px-3 py-2 text-base font-['Inter'] text-red-400">Exit Portal</button>
                        </>
                        )}
                    </div>
                    </div>
                )}
                </nav>
            );

            const HomeView = () => (
                <div className="animate-fadeIn">
                <div className="bg-[#0F3D2E] text-center py-24 px-4 relative overflow-hidden">
                    <div className="absolute inset-0 opacity-10" style={{ backgroundImage: 'radial-gradient(#C6A75E 1px, transparent 1px)', backgroundSize: '30px 30px' }}></div>
                    <div className="relative z-10 max-w-3xl mx-auto">
                    <h2 className="font-['Playfair_Display'] text-4xl md:text-5xl text-[#F4F1EC] font-bold mb-6 leading-tight">Tradition, Discretion, <br/>and Fellowship.</h2>
                    <p className="font-['Inter'] text-lg text-[#F4F1EC] opacity-90 mb-10 max-w-2xl mx-auto font-light">
                        Situated discreetly at 27 Cook Street, the Cork Grocers Club has provided a quiet sanctuary for its members for generations. A place for quiet reflection, rigorous debate, and enduring friendships, away from the public eye.
                    </p>
                    <div className="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                        <button 
                        onClick={() => navigateTo('login')}
                        className="bg-[#C6A75E] text-[#0F3D2E] px-8 py-3 rounded-sm font-semibold font-['Inter'] hover:bg-[#F4F1EC] transition-colors shadow-lg"
                        >
                        Members Portal
                        </button>
                        <button 
                        onClick={() => navigateTo('apply')}
                        className="border border-[#C6A75E] text-[#C6A75E] px-8 py-3 rounded-sm font-semibold font-['Inter'] hover:bg-[#C6A75E] hover:text-[#0F3D2E] transition-colors"
                        >
                        Apply for Membership
                        </button>
                    </div>
                    </div>
                </div>
                <div className="max-w-4xl mx-auto py-16 px-4 text-center">
                    <ShieldCheck className="w-12 h-12 text-[#5B1E2D] mx-auto mb-6" />
                    <h3 className="font-['Playfair_Display'] text-2xl text-[#2B2B2B] font-bold mb-4">Strictly Members Only</h3>
                    <p className="font-['Inter'] text-[#2B2B2B] leading-relaxed max-w-2xl mx-auto">
                    Access to the premises and our weekly cultural programmes is restricted to active members and their invited guests. 
                    Members are politely reminded to check the portal weekly for the updated secure door access code.
                    </p>
                </div>
                </div>
            );

            const ApplyView = () => (
                <div className="max-w-2xl mx-auto py-12 px-4 animate-fadeIn">
                <h2 className="font-['Playfair_Display'] text-3xl text-[#0F3D2E] font-bold mb-8 border-b border-[#C6A75E] pb-4">Membership Application</h2>
                <div className="bg-white p-8 shadow-sm border border-gray-200 rounded-sm">
                    <p className="font-['Inter'] text-sm text-[#2B2B2B] mb-6 italic">
                    Membership is subject to review by the committee. All applications must be supported by an existing member of at least two years' standing.
                    </p>
                    <form className="space-y-5" onSubmit={(e) => { e.preventDefault(); alert('Application submitted for review. Thank you.'); navigateTo('home'); }}>
                    <div className="grid grid-cols-2 gap-4">
                        <div>
                        <label className="block font-['Inter'] text-sm font-medium text-[#2B2B2B] mb-1">First Name</label>
                        <input required type="text" className="w-full border border-gray-300 p-2 rounded-sm focus:border-[#0F3D2E] focus:ring-0 outline-none font-['Inter']" />
                        </div>
                        <div>
                        <label className="block font-['Inter'] text-sm font-medium text-[#2B2B2B] mb-1">Surname</label>
                        <input required type="text" className="w-full border border-gray-300 p-2 rounded-sm focus:border-[#0F3D2E] focus:ring-0 outline-none font-['Inter']" />
                        </div>
                    </div>
                    <div>
                        <label className="block font-['Inter'] text-sm font-medium text-[#2B2B2B] mb-1">Email Address</label>
                        <input required type="email" className="w-full border border-gray-300 p-2 rounded-sm focus:border-[#0F3D2E] focus:ring-0 outline-none font-['Inter']" />
                    </div>
                    <div>
                        <label className="block font-['Inter'] text-sm font-medium text-[#2B2B2B] mb-1">Residential Address</label>
                        <textarea required rows="3" className="w-full border border-gray-300 p-2 rounded-sm focus:border-[#0F3D2E] focus:ring-0 outline-none font-['Inter']"></textarea>
                    </div>
                    <div>
                        <label className="block font-['Inter'] text-sm font-medium text-[#2B2B2B] mb-1">Proposing Member's Name</label>
                        <input required type="text" className="w-full border border-gray-300 p-2 rounded-sm focus:border-[#0F3D2E] focus:ring-0 outline-none font-['Inter']" />
                    </div>
                    <button type="submit" className="w-full bg-[#0F3D2E] text-[#F4F1EC] py-3 mt-4 rounded-sm font-bold font-['Inter'] hover:bg-[#1a5743] transition-colors">
                        Submit Application
                    </button>
                    </form>
                </div>
                </div>
            );

            const LoginView = () => {
                const [memberNumber, setMemberNumber] = useState('');
                const [surname, setSurname] = useState('');
                const [error, setError] = useState('');

                const onSubmit = (e) => {
                e.preventDefault();
                if (!handleLogin(memberNumber, surname)) {
                    setError('Credentials not recognised. Please ensure your Member Number and Surname match our records.');
                }
                };

                return (
                <div className="max-w-md mx-auto py-20 px-4 animate-fadeIn">
                    <div className="bg-white p-8 shadow-md border-t-4 border-[#5B1E2D] rounded-sm">
                    <div className="text-center mb-8">
                        <ShieldCheck className="w-10 h-10 text-[#0F3D2E] mx-auto mb-3" />
                        <h2 className="font-['Playfair_Display'] text-2xl text-[#2B2B2B] font-bold">Members' Portal</h2>
                        <p className="font-['Inter'] text-sm text-gray-500 mt-2">Please enter your credentials to proceed.</p>
                    </div>

                    {error && (
                        <div className="bg-red-50 text-[#5B1E2D] p-3 rounded-sm mb-6 text-sm font-['Inter'] flex items-start border border-red-100">
                        <AlertCircle className="w-5 h-5 mr-2 flex-shrink-0 mt-0.5" />
                        <span>{error}</span>
                        </div>
                    )}

                    <form onSubmit={onSubmit} className="space-y-6">
                        <div>
                        <label className="block font-['Inter'] text-sm font-semibold text-[#2B2B2B] mb-2">Member Number</label>
                        <input 
                            type="text" 
                            value={memberNumber}
                            onChange={(e) => setMemberNumber(e.target.value)}
                            required
                            placeholder="e.g. 1890"
                            className="w-full border border-gray-300 p-3 rounded-sm focus:border-[#0F3D2E] focus:ring-1 focus:ring-[#0F3D2E] outline-none font-['Inter'] transition-all" 
                        />
                        </div>
                        <div>
                        <label className="block font-['Inter'] text-sm font-semibold text-[#2B2B2B] mb-2">Surname</label>
                        <input 
                            type="text" 
                            value={surname}
                            onChange={(e) => setSurname(e.target.value)}
                            required
                            placeholder="e.g. Duggan"
                            className="w-full border border-gray-300 p-3 rounded-sm focus:border-[#0F3D2E] focus:ring-1 focus:ring-[#0F3D2E] outline-none font-['Inter'] transition-all" 
                        />
                        </div>
                        <button type="submit" className="w-full bg-[#0F3D2E] text-[#C6A75E] py-3 rounded-sm font-bold font-['Inter'] hover:bg-[#1a5743] transition-colors shadow-md flex justify-center items-center">
                        Access Portal <ChevronRight className="w-4 h-4 ml-2" />
                        </button>
                    </form>
                    
                    <div className="mt-8 pt-6 border-t border-gray-100 text-xs text-center text-gray-400 font-['Inter']">
                        <p>Demo Data:</p>
                        <p>Active: 1890 / Duggan</p>
                        <p>Expired: 1920 / Maher</p>
                    </div>
                    </div>
                </div>
                );
            };

            const DashboardView = () => {
                if (!user) return null;
                const isActive = user.status === 'active';

                return (
                <div className="max-w-5xl mx-auto py-10 px-4 animate-fadeIn">
                    <div className="mb-8">
                    <h2 className="font-['Playfair_Display'] text-3xl text-[#0F3D2E] font-bold">Welcome back, {user.firstName}</h2>
                    <p className="font-['Inter'] text-gray-600 mt-1">Member #{user.memberNumber}</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    
                    <div className="bg-white p-6 shadow-sm border border-gray-200 rounded-sm flex flex-col h-full">
                        <h3 className="font-['Inter'] text-sm font-bold text-gray-500 uppercase tracking-wider mb-4 border-b pb-2">Membership Status</h3>
                        <div className="flex-grow flex flex-col justify-center items-center py-4">
                        {isActive ? (
                            <>
                            <CheckCircle2 className="w-16 h-16 text-[#0F3D2E] mb-3" />
                            <span className="font-['Playfair_Display'] text-2xl text-[#0F3D2E] font-bold">Active</span>
                            <span className="font-['Inter'] text-sm text-gray-500 mt-2">Valid until {new Date(user.expiryDate).toLocaleDateString('en-GB')}</span>
                            </>
                        ) : (
                            <>
                            <AlertCircle className="w-16 h-16 text-[#5B1E2D] mb-3" />
                            <span className="font-['Playfair_Display'] text-2xl text-[#5B1E2D] font-bold">Expired</span>
                            <span className="font-['Inter'] text-sm text-gray-500 mt-2 text-center px-4">Your subscription lapsed on {new Date(user.expiryDate).toLocaleDateString('en-GB')}</span>
                            <button 
                                onClick={() => navigateTo('renew')}
                                className="mt-6 bg-[#5B1E2D] text-white px-6 py-2 rounded-sm font-['Inter'] text-sm font-semibold hover:bg-opacity-90 transition-colors"
                            >
                                Renew Now
                            </button>
                            </>
                        )}
                        </div>
                    </div>

                    <div className="md:col-span-2 bg-[#0F3D2E] text-[#F4F1EC] p-6 shadow-md rounded-sm relative overflow-hidden">
                        <div className="absolute inset-0 opacity-5" style={{ backgroundImage: 'url("data:image/svg+xml,%3Csvg width=\'20\' height=\'20\' viewBox=\'0 0 20 20\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'%23ffffff\' fill-opacity=\'1\' fill-rule=\'evenodd\'%3E%3Ccircle cx=\'3\' cy=\'3\' r=\'3\'/%3E%3Ccircle cx=\'13\' cy=\'13\' r=\'3\'/%3E%3C/g%3E%3C/svg%3E")' }}></div>
                        
                        <div className="relative z-10 h-full flex flex-col">
                        <h3 className="font-['Inter'] text-sm font-bold text-[#C6A75E] uppercase tracking-wider mb-4 flex items-center">
                            <KeyRound className="w-4 h-4 mr-2" /> Weekly Door Access
                        </h3>
                        
                        <div className="flex-grow flex flex-col justify-center items-center bg-[#154a3a] rounded-sm border border-[#1a5743] p-6">
                            {isActive ? (
                            <>
                                <p className="font-['Inter'] text-sm text-gray-300 mb-4 text-center">Enter this code at the main entrance keypad. Valid until Sunday midnight.</p>
                                <div className="bg-[#F4F1EC] px-10 py-6 rounded-sm shadow-inner">
                                <span className="font-['Inter'] text-5xl font-black text-[#2B2B2B] tracking-[0.2em]">{MOCK_DOOR_CODE}</span>
                                </div>
                            </>
                            ) : (
                            <div className="text-center px-6">
                                <LogOut className="w-12 h-12 text-red-400 mx-auto mb-4 opacity-50" />
                                <p className="font-['Playfair_Display'] text-xl text-white mb-2">Access Restricted</p>
                                <p className="font-['Inter'] text-sm text-gray-300">
                                Your membership must be active to view the weekly access code. Please settle your annual dues to regain entry to the club.
                                </p>
                            </div>
                            )}
                        </div>
                        </div>
                    </div>

                    </div>
                </div>
                );
            };

            const RenewView = () => (
                <div className="max-w-2xl mx-auto py-12 px-4 animate-fadeIn">
                <button onClick={() => navigateTo('dashboard')} className="text-[#0F3D2E] hover:underline font-['Inter'] text-sm mb-6 flex items-center">
                    ← Back to Dashboard
                </button>
                <div className="bg-white p-8 shadow-sm border border-gray-200 rounded-sm">
                    <h2 className="font-['Playfair_Display'] text-2xl text-[#0F3D2E] font-bold mb-6 border-b border-[#C6A75E] pb-4 flex items-center">
                    <CreditCard className="mr-3 text-[#C6A75E]" /> Renew Membership
                    </h2>
                    
                    <div className="bg-[#F4F1EC] p-6 rounded-sm mb-8 border border-gray-200">
                    <div className="flex justify-between items-center mb-4 border-b border-gray-300 pb-4">
                        <div>
                        <p className="font-['Inter'] font-semibold text-[#2B2B2B]">{user.firstName} {user.surname}</p>
                        <p className="font-['Inter'] text-sm text-gray-500">Member No: {user.memberNumber}</p>
                        </div>
                        <div className="text-right">
                        <p className="font-['Inter'] text-sm text-gray-500">Annual Dues</p>
                        <p className="font-['Playfair_Display'] text-2xl font-bold text-[#0F3D2E]">€250.00</p>
                        </div>
                    </div>
                    <p className="font-['Inter'] text-xs text-gray-500 italic">
                        Payment of dues grants full access to the premises and portal for a period of 12 months.
                    </p>
                    </div>

                    <button 
                    onClick={handleRenew}
                    className="w-full bg-[#0F3D2E] text-[#C6A75E] py-4 rounded-sm font-bold font-['Inter'] text-lg hover:bg-[#1a5743] transition-colors shadow-md flex justify-center items-center"
                    >
                    Pay Securely via Portal
                    </button>
                </div>
                </div>
            );

            const UpdatesView = () => {
                if (!user) return null;
                
                if (user.status !== 'active') {
                return (
                    <div className="max-w-3xl mx-auto py-20 px-4 text-center animate-fadeIn">
                    <AlertCircle className="w-16 h-16 text-[#5B1E2D] mx-auto mb-4" />
                    <h2 className="font-['Playfair_Display'] text-2xl text-[#2B2B2B] font-bold mb-4">Content Restricted</h2>
                    <p className="font-['Inter'] text-gray-600 mb-8">Please renew your membership to view club notices and updates.</p>
                    <button 
                        onClick={() => navigateTo('renew')}
                        className="bg-[#5B1E2D] text-white px-8 py-3 rounded-sm font-['Inter'] font-semibold hover:bg-opacity-90"
                    >
                        Renew Membership
                    </button>
                    </div>
                );
                }

                return (
                <div className="max-w-4xl mx-auto py-12 px-4 animate-fadeIn">
                    <h2 className="font-['Playfair_Display'] text-3xl text-[#0F3D2E] font-bold mb-8 border-b border-[#C6A75E] pb-4">Club Notices</h2>
                    
                    <div className="space-y-6">
                    <div className="bg-white p-6 shadow-sm border-l-4 border-[#0F3D2E] rounded-sm">
                        <div className="flex justify-between items-start mb-2">
                        <h3 className="font-['Inter'] font-bold text-[#2B2B2B] text-lg">Annual General Meeting</h3>
                        <span className="font-['Inter'] text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">12 Feb 2026</span>
                        </div>
                        <p className="font-['Inter'] text-gray-600 text-sm leading-relaxed">
                        The AGM will take place in the main dining hall on Thursday, 26th of February at 19:00. Formal attire is required. The committee respectfully requests all active members to attend.
                        </p>
                    </div>

                    <div className="bg-white p-6 shadow-sm border-l-4 border-[#5B1E2D] rounded-sm">
                        <div className="flex justify-between items-start mb-2">
                        <h3 className="font-['Inter'] font-bold text-[#2B2B2B] text-lg">Snooker Room Maintenance</h3>
                        <span className="font-['Inter'] text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">05 Feb 2026</span>
                        </div>
                        <p className="font-['Inter'] text-gray-600 text-sm leading-relaxed">
                        Please note that tables 1 and 2 will be out of service this coming weekend for re-clothing. Table 3 remains available for booking via the steward.
                        </p>
                    </div>
                    
                    <div className="bg-white p-6 shadow-sm border-l-4 border-[#C6A75E] rounded-sm">
                        <div className="flex justify-between items-start mb-2">
                        <h3 className="font-['Inter'] font-bold text-[#2B2B2B] text-lg">New Wine Cellar Acquisitions</h3>
                        <span className="font-['Inter'] text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">28 Jan 2026</span>
                        </div>
                        <p className="font-['Inter'] text-gray-600 text-sm leading-relaxed">
                        The wine committee is pleased to announce the arrival of several excellent Bordeaux vintages. A tasting evening will be scheduled for late March.
                        </p>
                    </div>
                    </div>
                </div>
                );
            };

            const ProfileView = () => {
                if (!user) return null;
                return (
                <div className="max-w-3xl mx-auto py-12 px-4 animate-fadeIn">
                    <h2 className="font-['Playfair_Display'] text-3xl text-[#0F3D2E] font-bold mb-8 border-b border-[#C6A75E] pb-4">Member Profile</h2>
                    <div className="bg-white shadow-sm border border-gray-200 rounded-sm overflow-hidden">
                    <div className="px-6 py-8 sm:p-10">
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-8">
                        <div>
                            <p className="font-['Inter'] text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Full Name</p>
                            <p className="font-['Inter'] text-lg text-[#2B2B2B]">{user.firstName} {user.surname}</p>
                        </div>
                        <div>
                            <p className="font-['Inter'] text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Member Number</p>
                            <p className="font-['Inter'] text-lg text-[#2B2B2B]">{user.memberNumber}</p>
                        </div>
                        <div>
                            <p className="font-['Inter'] text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Email</p>
                            <p className="font-['Inter'] text-lg text-[#2B2B2B]">{user.email}</p>
                        </div>
                        <div>
                            <p className="font-['Inter'] text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Registered Address</p>
                            <p className="font-['Inter'] text-lg text-[#2B2B2B]">{user.address}</p>
                        </div>
                        <div className="sm:col-span-2 pt-6 border-t border-gray-100">
                            <p className="font-['Inter'] text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Membership Status</p>
                            <div className="flex items-center mt-2">
                            <div className={`w-3 h-3 rounded-full mr-2 ${user.status === 'active' ? 'bg-[#0F3D2E]' : 'bg-[#5B1E2D]'}`}></div>
                            <p className="font-['Inter'] text-[#2B2B2B] capitalize font-medium">{user.status} — valid until {new Date(user.expiryDate).toLocaleDateString('en-GB')}</p>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
                )
            }

            return (
                <div className="min-h-screen bg-[#F4F1EC] text-[#2B2B2B] flex flex-col font-['Inter'] selection:bg-[#C6A75E] selection:text-[#0F3D2E]">
                <Navbar />
                
                <main className="flex-grow">
                    {currentView === 'home' && <HomeView />}
                    {currentView === 'apply' && <ApplyView />}
                    {currentView === 'login' && <LoginView />}
                    {currentView === 'dashboard' && <DashboardView />}
                    {currentView === 'renew' && <RenewView />}
                    {currentView === 'updates' && <UpdatesView />}
                    {currentView === 'profile' && <ProfileView />}
                </main>

                <footer className="bg-[#0F3D2E] text-center py-8 text-[#C6A75E] border-t border-[#1a5743]">
                    <p className="font-['Playfair_Display'] text-sm tracking-widest uppercase mb-2">Cork Grocers Club</p>
                    <p className="font-['Inter'] text-xs opacity-60">© {new Date().getFullYear()} All rights reserved. Strictly Private & Confidential.</p>
                    <p className="font-['Inter'] text-xs opacity-40 mt-1">Created by Dave Maher</p>
                </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
